<?xml version="1.0" encoding="utf-8"?>
<executable>
  <category>Model Generation</category>
  <title>Model Maker</title>
  <description>
Create 3D surface models from segmented data.
Imported from Slicer 2.
Use File - Import Scene for now to view generated data.
</description>
  <version>3.0</version>
  <documentation-url>http://www.slicer.org</documentation-url>
  <license>slicer3</license>
  <contributor>Nicole Aucoin</contributor>
<acknowledgements>
This work is part of the National Alliance for Medical Image Computing (NAMIC), funded by the National Institutes of Health through the NIH Roadmap for Medical Research, Grant U54 EB005149.
</acknowledgements>
<parameters>
    <label>IO</label>
    <description>Input/output parameters</description>
    <image type="label">
      <name>InputVolume</name>
      <label>Input Volume</label>
      <channel>input</channel>
      <index>0</index>
      <description>Input label map.</description>
      </image>
    <directory>
      <name>OutputDirectory</name>
      <label>Output Directory</label>
      <channel>output</channel>
      <index>1</index>
      <description>Directory in which to save model(s)</description>
    </directory>    
    <file fileExtensions=".mrml">
      <name>ModelSceneFile</name>
      <channel>output</channel>
      <label>Model Scene File</label>
      <longflag>--modelSceneFile</longflag>
      <description>An output file containing a MRML scene with the models generated by the model maker, use File Import to reload</description>
      <default>models.mrml</default>
    </file>
  </parameters>
  <parameters>
  <label>Model Maker Parameters</label>
  <description>Parameters used for making models.</description>
  <integer>
    <name>StartLabel</name>
    <flag>-s</flag>
    <longflag>--start</longflag>
    <description>Voxel value from which to start making models.</description>
    <label>Start Label</label>
    <default>1</default>
  </integer>
   <string>
     <name>Name</name>
     <label>Model Name</label>
     <flag>-n</flag>
     <longflag>--name</longflag>
     <description>Name to use for this model. Ignored if making multiple models, which uses the label name</description>
     <default>Model</default>
   </string>
   <integer>
     <name>Smooth</name>
     <label>Smooth</label>
     <longflag>--smooth</longflag>
     <description>Number of smoothing iterations</description>
     <default>15</default>
     <constraints>
     <minimum>0</minimum>
     </constraints>
   </integer>
   <float>
     <name>Decimate</name>
     <label>Decimate</label>
     <longflag>--decimate</longflag>
     <description>Target reduction during decimation, as a decimal percentage reduction in the number of polygons.</description>
     <default>0.25</default>
     <constraints>
     <minimum>0.0</minimum>
     <maximum>1.0</maximum>
     </constraints>
   </float>
   <boolean>
     <name>SplitNormals</name>
     <label>Split Normals</label>
     <longflag>--splitnormals</longflag>
     <description>Splitting normals is useful for visualizing sharp features. However it creates holes in surfaces which affects measurements</description>
     <default>true</default>
   </boolean>
   <boolean>
     <name>PointNormals</name>
     <label>Point Normals</label>
     <longflag>--pointnormals</longflag>
     <description>Calculate the Point Normals?</description>
     <default>true</default>
   </boolean>
   <string-enumeration>
     <name>FilterType</name>
     <label>Filter Type</label>
     <description>Controls the type of smoothing done after the model is built.</description>
     <longflag>--filtertype</longflag>
     <default>Sinc</default>
     <element>Sinc</element>
     <element>Laplacian</element>
   </string-enumeration>
</parameters>
<parameters>
   <label>Anatomical Information</label>
   <description>Use external information to name models</description>
   <file fileExtensions=".csv">
     <name>AnatomyLabelFile</name>
     <channel>input</channel>
     <label>Anatomy Label File</label>
     <longflag>--anatomyLabelFile</longflag>
     <description>A file containing a comma separted list of anatomy names and label numbers. If not set, a best guess color look up table will be used.</description>
     <default></default>
   </file>
   <boolean>
     <name>SkipUnNamed</name>
     <label>Skip Un-Named Labels</label>
     <longflag>--skipUnNamed</longflag>
     <description> If true and an Anatomy Label File is specified, only models which have an entry in the Anatomy Label File will be generated. If false, generate all models that exist within the label range.</description>
     <default>true</default>
   </boolean>
</parameters>
<parameters>
  <label>Create Multiple</label>
  <description>Create more than one model at the same time</description>
  <boolean>
     <name>GenerateAll</name>
     <label>Generate All Models</label>
     <longflag>--generateAll</longflag>
     <description>Generate models for all labels in the input volume. Ignores Start Label and End Label settings.</description>
     <default>false</default>
   </boolean>
  <integer>
    <name>EndLabel</name>
    <label>End Label</label>
    <flag>-e</flag>
    <longflag>--end</longflag>
    <description>Voxel value up to which to continue making models. Skip any values with zero voxels.</description>
    <default>1</default>
  </integer>
  <boolean>
    <name>JointSmoothing</name>
    <label>Joint Smoothing</label>
    <description>Perform joint smoothing between all models, so that they will fit together</description>
    <flag>-j</flag>
    <longflag>--jointsmooth</longflag>
    <default>false</default>
  </boolean>
</parameters>
</executable>
