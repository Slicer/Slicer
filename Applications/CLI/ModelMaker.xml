<?xml version="1.0" encoding="utf-8"?>
<executable>
  <category>Model Generation</category>
  <title>Model Maker</title>
  <description>
Create 3D surface models from segmented data.
Imported from Slicer 2.
Use File - Import Scene to view generated data.
If specify a list of Labels, it will over ride any start/end label settings.
</description>
  <version>3.0</version>
  <documentation-url>http://www.slicer.org</documentation-url>
  <license>slicer3</license>
  <contributor>Nicole Aucoin</contributor>
<acknowledgements>
This work is part of the National Alliance for Medical Image Computing (NAMIC), funded by the National Institutes of Health through the NIH Roadmap for Medical Research, Grant U54 EB005149.
</acknowledgements>
<parameters>
    <label>IO</label>
    <description>Input/output parameters</description>
    <image type="label">
      <name>InputVolume</name>
      <label>Input Volume</label>
      <channel>input</channel>
      <index>0</index>
      <description>Input label map.</description>
      </image>
    <table type="color" reference="InputVolume" hidden="true">
      <name>ColorTable</name>
      <channel>input</channel>
      <longflag>color</longflag>
      <description>Color table to make labels to colors and objects</description>
    </table>   
    <geometry fileExtensions=".mrml" multiple="true" aggregate="true">
      <name>ModelSceneFile</name>
      <channel>output</channel>
      <label>Models</label>
      <longflag>--modelSceneFile</longflag>
      <description>Generated models, under a model hierarchy node.</description>
      <default>models.mrml</default>
    </geometry>
  </parameters>
<parameters>
  <label>Create Multiple</label>
  <description>Create more than one model at the same time, used for continuous ranges of labels.</description>
  <boolean>
     <name>GenerateAll</name>
     <label>Generate All Models</label>
     <longflag>--generateAll</longflag>
     <description>Generate models for all labels in the input volume. Ignores Labels, Start Label, End Label settings. Skips label 0.</description>
     <default>false</default>
   </boolean>
 <integer-vector>
    <name>Labels</name>
    <flag>-l</flag>
    <longflag>-labels</longflag>
    <description>A comma separated list of label values from which to make models. Over-rides the Start/End Labels.</description>
    <label>Labels</label>
  </integer-vector>
   <string>
     <name>Name</name>
     <label>Model Prefix</label>
     <flag>-n</flag>
     <longflag>--name</longflag>
     <description>Name to use for this model. If making multiple models, use this as a prefix to the label and color name</description>
     <default>Model</default>
   </string>
   <integer>
    <name>StartLabel</name>
    <label>Start Label</label>
    <flag>-s</flag>
    <longflag>--start</longflag>
    <description>Voxel value from which to start making models. Used instead of the label list to specify a range (make sure the label list is empty or it will over ride this).</description>
    <default>-1</default>
  </integer>
  <integer>
    <name>EndLabel</name>
    <label>End Label</label>
    <flag>-e</flag>
    <longflag>--end</longflag>
    <description>Voxel value up to which to continue making models. Skip any values with zero voxels.</description>
    <default>-1</default>
  </integer>
  <boolean>
    <name>JointSmoothing</name>
    <label>Joint Smoothing</label>
    <description>Perform joint smoothing between models, so that they will fit together. </description>
    <flag>-j</flag>
    <longflag>--jointsmooth</longflag>
    <default>false</default>
  </boolean>
</parameters>
  <parameters advanced="true">
  <label>Model Maker Parameters</label>
  <description>Parameters used for making models.</description> 
   <integer>
     <name>Smooth</name>
     <label>Smooth</label>
     <longflag>--smooth</longflag>
     <description>Number of smoothing iterations</description>
     <default>10</default>
     <constraints>
     <minimum>0</minimum>
     </constraints>
   </integer>
   <float>
     <name>Decimate</name>
     <label>Decimate</label>
     <longflag>--decimate</longflag>
     <description>Target reduction during decimation, as a decimal percentage reduction in the number of polygons.</description>
     <default>0.25</default>
     <constraints>
     <minimum>0.0</minimum>
     <maximum>1.0</maximum>
     </constraints>
   </float>
   <boolean>
     <name>SplitNormals</name>
     <label>Split Normals</label>
     <longflag>--splitnormals</longflag>
     <description>Splitting normals is useful for visualizing sharp features. However it creates holes in surfaces which affects measurements</description>
     <default>true</default>
   </boolean>
   <boolean>
     <name>PointNormals</name>
     <label>Point Normals</label>
     <longflag>--pointnormals</longflag>
     <description>Calculate the Point Normals?</description>
     <default>true</default>
   </boolean>
   <string-enumeration>
     <name>FilterType</name>
     <label>Filter Type</label>
     <description>Controls the type of smoothing done after the model is built.</description>
     <longflag>--filtertype</longflag>
     <default>Sinc</default>
     <element>Sinc</element>
     <element>Laplacian</element>
   </string-enumeration>
</parameters>

<parameters advanced="true">
   <label>Anatomical Information</label>
   <description>Use external information to name models, instead of the colors associated with the label map.</description>   
   <file fileExtensions=".csv">
     <name>AnatomyLabelFile</name>
     <channel>input</channel>
     <label>Anatomy Label File</label>
     <longflag>--anatomyLabelFile</longflag>
     <description>A file containing a comma separted list of anatomy names and label numbers.</description>
     <default></default>
   </file>
   <boolean>
     <name>SkipUnNamed</name>
     <label>Skip Un-Named Labels</label>
     <longflag>--skipUnNamed</longflag>
     <description> If true and an Anatomy Label File is specified, only models which have an entry in the Anatomy Label File will be generated. If false, generate all models that exist within the label range.</description>
     <default>true</default>
   </boolean>
</parameters>
</executable>
