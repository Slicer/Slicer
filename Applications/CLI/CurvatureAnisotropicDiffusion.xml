<?xml version="1.0" encoding="utf-8"?>
<executable>
  <category>Filtering.Denoising</category>
  <title>Curvature Anisotropic Diffusion</title>
  <description>
Performs anisotropic diffusion on an image using a modified curvature
diffusion equation (MCDE).

MCDE does not exhibit the edge enhancing properties of classic
anisotropic diffusion, which can under certain conditions undergo a
'negative' diffusion, which enhances the contrast of edges.  Equations
of the form of MCDE always undergo positive diffusion, with the
conductance term only varying the strength of that diffusion.

Qualitatively, MCDE compares well with other non-linear diffusion
techniques.  It is less sensitive to contrast than classic
Perona-Malik style diffusion, and preserves finer detailed structures
in images.  There is a potential speed trade-off for using this
function in place of Gradient Anisotropic Diffusion.  Each iteration
of the solution takes roughly twice as long.  Fewer iterations,
however, may be required to reach an acceptable solution.
</description>
  <version>0.1.0.$Revision$(alpha)</version>
  <documentation-url></documentation-url>
  <license></license>
  <contributor>Bill Lorensen</contributor>
  <acknowledgements>This command module was derived from Insight/Examples (copyright) Insight Software Consortium</acknowledgements>

  <parameters>
    <label>Anisotropic Diffusion Parameters</label>
    <description>Parameters for the anisotropic diffusion algorithm</description>

    <double>
      <name>conductance</name>
      <longflag>--conductance</longflag>
      <description>Conductance</description>
      <label>Conductance</label>
      <default>1</default>
      <constraints>
        <minimum>0</minimum>
        <maximum>10</maximum>
        <step>.01</step>
      </constraints>
    </double>

    <double>
      <name>timeStep</name>
      <longflag>--timeStep</longflag>
      <description>Time Step</description>
      <label>Time Step</label>
      <default>0.0625</default>
      <constraints>
        <minimum>.001</minimum>
        <maximum>1</maximum>
        <step>.001</step>
      </constraints>
    </double>

    <integer>
      <name>numberOfIterations</name>
      <longflag>--iterations</longflag>
      <description>Number of iterations</description>
      <label>Iterations</label>
      <default>1</default>
      <constraints>
        <minimum>1</minimum>
        <maximum>30</maximum>
        <step>1</step>
      </constraints>
    </integer>

  </parameters>

  <parameters>
    <label>IO</label>
    <description>Input/output parameters</description>
    <image>
      <name>inputVolume</name>
      <label>Input Volume</label>
      <channel>input</channel>
      <index>0</index>
      <description>Input volume to be filtered</description>
    </image>
    <image>
      <name>outputVolume</name>
      <label>Output Volume</label>
      <channel>output</channel>
      <index>1</index>
      <description>Output filtered</description>
    </image>
  </parameters>

</executable>
